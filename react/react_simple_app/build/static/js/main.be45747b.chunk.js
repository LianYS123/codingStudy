(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{29:function(e,t,r){},32:function(e,t,r){e.exports=r(48)},38:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(20),o=r.n(c),s=r(2),i=r(3),l=r(6),u=r(4),p=r(7),f=r(5),b=r(13),m=r.n(b),O=r(18),d=r(16),y=r(17),h=(r(38),"adsfadsfadf"),v="adsfasdfdsafdasf",j=r(10);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var w=function(e){function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data||[],r=[];for(var n in t[0])r.push(n);var c=this.props.btns||[];return a.a.createElement("div",null,r&&0!==r.length?a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,r.map((function(e){return a.a.createElement("th",{scope:"col",key:e},e)})),a.a.createElement("th",{scope:"col"},"\u64cd\u4f5c"))),a.a.createElement("tbody",null,t.map((function(t){return a.a.createElement("tr",{key:t.ID},r.map((function(e){return a.a.createElement("td",{key:e},t[e])})),a.a.createElement("td",null,a.a.createElement("div",{className:"btn-group",role:"group"},c.map((function(r,n){return a.a.createElement("button",{type:"button",key:n,onClick:r.callback&&r.callback.bind(e,t),className:r.classList?r.classList.join(" "):"btn btn-primary"},r.value||"submit")})))))})))):a.a.createElement("div",{className:"alert alert-secondary",role:"alert"},"No any data here, click add to append one."))}}]),t}(n.Component),D=Object(j.b)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}),{setDialog:function(e){return{type:v,showDialog:e}}})(Object(y.e)(w));r(44);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var P=function(e){function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.info||{};return a.a.createElement("div",{className:"dialog"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h5",{className:"card-title"},t.title||""),a.a.createElement("p",{className:"card-text"},t.message),a.a.createElement("div",{className:"btn-group",role:"group"},t.btns.map((function(t,r){return a.a.createElement("button",{key:r,className:t.classList?t.classList.join(" "):"btn btn-primary",onClick:t.callback&&t.callback.bind(e)},t.value||"\u786e\u8ba4")}))))))}}]),t}(n.Component),k=Object(j.b)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}),{setDialog:function(e){return{type:v,showDialog:e}}})(P);r(45);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var I=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={fields:r.props.fields||[]},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"getFormFields",value:function(){var e=this.state.fields||[],t={};return e.forEach((function(e){var r=e.name,n=e.value;r&&""!==r&&(t[r]=n||"")})),t}},{key:"onChange",value:function(e,t){var r=e.target.value;this.setState({fields:this.state.fields.map((function(e,n){return n===t?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{value:r}):e}))})}},{key:"render",value:function(){var e=this,t=this.state.fields,r=this.props.btns||[];return a.a.createElement("div",{className:"panel"},a.a.createElement("nav",{className:"navbar navbar-light bg-light"},a.a.createElement("span",{className:"navbar-brand"},this.props.title||"\u6807\u9898")),a.a.createElement("form",null,t.map((function(t,r){return a.a.createElement("div",{className:"form-group",key:r},a.a.createElement("label",null,t.fieldName),a.a.createElement("input",{className:"form-control",name:t.name||"",readOnly:t.readOnly?"readOnly":"",placeholder:t.placeholder||"",value:t.value||"",onChange:function(e){this.onChange(e,r)}.bind(e)}),t.reminder?a.a.createElement("small",{className:"form-text text-muted"},t.reminder):"")})),a.a.createElement("div",{className:"btn-group",role:"group"},r.map((function(t,r){return a.a.createElement("button",{type:"button",key:r,onClick:t.callback&&t.callback.bind(e,e.getFormFields()),className:t.classList?t.classList.join(" "):"btn btn-primary"},t.value||"submit")})))))}}]),t}(n.Component),S="http://localhost:8080/",L=function(e,t,r){try{if(e.error){var n=e.error;alert("\u9519\u4e86"),console.log(n),r&&r(n)}else t&&t(e);return e}catch(n){console.log(n),alert("\u9519\u4e86"),r&&r(n)}},x={get:function(){var e=Object(O.a)(m.a.mark((function e(t,r,n){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",L(c,r,n));case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),post:function(){var e=Object(O.a)(m.a.mark((function e(t,r,n,a){var c,o,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in c=new FormData,r)c.append(o,r[o]);return e.next=4,fetch(S+t,{method:"post",body:c});case 4:return s=e.sent,e.next=7,s.json();case 7:return i=e.sent,e.abrupt("return",L(i,n,a));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()};r(29);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var A=function(e){function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"del",value:function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),this.refs.dialog.open();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{value:"\u6dfb\u52a0",classList:["btn","btn-primary"],callback:function(t){x.post("item/add",t,(function(r){t.ID=r.insertId;var n=e.props.data;n.push(t),e.props.setData(n),e.props.history.push("/"),alert("\u6dfb\u52a0\u6210\u529f")}))}},{value:"\u53d6\u6d88",classList:["btn","btn-secondary"],callback:function(){e.props.history.push("/")}}];return a.a.createElement("div",{className:"wrapper-page"},a.a.createElement("div",{className:"panelDiv"},a.a.createElement(I,{title:"\u6dfb\u52a0\u5546\u54c1",fields:[{fieldName:"\u5546\u54c1\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",name:"item_name"},{fieldName:"\u5546\u54c1\u4ef7\u683c",name:"item_price",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ef7\u683c"},{fieldName:"\u63cf\u8ff0",name:"desc",reminder:"\u63cf\u8ff0\u4e3a\u9009\u586b\u9879",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0"}],btns:t})))}}]),t}(n.Component),_=Object(j.b)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}),{setData:function(e){return{type:h,data:e}}})(Object(y.e)(A));function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var J=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.id,r=this.props.data||[],n=r.filter((function(e){return e.ID===parseInt(t)}))[0]||{},c=[{fieldName:"\u5546\u54c1\u7f16\u53f7",name:"ID",value:n.ID,placeholder:n.ID,readOnly:!0},{fieldName:"\u5546\u54c1\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",name:"item_name",value:n.item_name},{fieldName:"\u5546\u54c1\u4ef7\u683c",name:"item_price",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ef7\u683c",value:n.item_price},{fieldName:"\u63cf\u8ff0",name:"desc",reminder:"\u63cf\u8ff0\u4e3a\u9009\u586b\u9879",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0",value:n.desc}],o=[{value:"\u786e\u8ba4\u4fee\u6539",classList:["btn","btn-primary"],callback:function(t){x.post("item/modify",t,(function(n){var a=r.map((function(e){return e.ID===t.ID?t:e}));alert("\u4fee\u6539\u6210\u529f"),e.props.setData(a),e.props.history.push("/"),console.log(n)}))}},{value:"\u53d6\u6d88",classList:["btn","btn-secondary"],callback:function(){e.props.history.push("/")}}];return a.a.createElement("div",{className:"wrapper-page"},a.a.createElement("div",{className:"panelDiv"},a.a.createElement(I,{title:"\u4fee\u6539\u5546\u54c1",fields:c,btns:o,key:n.ID})))}}]),t}(n.Component),B=Object(j.b)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}),{setData:function(e){return{type:h,data:e}}})(Object(y.e)(J));function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var T=function(e){function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("item/getItems");case 2:(t=e.sent).error||this.props.setData(t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.data||[],r=[{value:"\u4fee\u6539",classList:["btn","btn-primary"],linkTo:"modify",callback:function(e){this.props.history.push("/modify/"+e.ID)}},{value:"\u5220\u9664",classList:["btn","btn-danger"],callback:function(t){e.delId=t.ID,this.props.setDialog(!0)}}],n={title:"\u63d0\u793a",message:"\u786e\u8ba4\u5220\u9664\uff1f",btns:[{value:"\u786e\u8ba4",classList:["btn","btn-primary"],callback:function(){e.delId&&x.get("item/del/"+e.delId,(function(){alert("\u5220\u9664\u6210\u529f"),e.props.setDialog(!1),e.props.setData(t.filter((function(t){return t.ID!=e.delId}))),e.delId=NaN}))}},{value:"\u53d6\u6d88",classList:["btn","btn-secondary"],callback:function(){e.props.setDialog(!1)}}]},c=this.props.showDialog;return a.a.createElement(d.a,null,a.a.createElement(y.a,{path:"/add",component:_}),a.a.createElement(y.a,{path:"/modify/:id",component:B}),a.a.createElement(d.b,{className:"btn btn-primary",to:"/add"},"\u6dfb\u52a0\u5546\u54c1"),a.a.createElement(D,{data:t,btns:r}),c?a.a.createElement(k,{info:n}):"")}}]),t}(n.Component),q=Object(j.b)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}),{setData:function(e){return{type:h,data:e}},setDialog:function(e){return{type:v,showDialog:e}}})(Object(y.e)(T)),z=function(e){function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(d.a,null,a.a.createElement(q,null))}}]),t}(n.Component),G=r(22);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=Object(G.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return K({},e,{data:t.data});case v:return K({},e,{showDialog:t.showDialog});default:return e}}));r(46),r(47);o.a.render(a.a.createElement(j.a,{store:Q},a.a.createElement(z,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.be45747b.chunk.js.map