{"version":3,"sources":["Article.js","Paging.js","Header.js","Footer.js","App.js","index.js","router.js"],"names":["props","item","tagChange","date","Date","time","getFullYear","getMonth","getDate","id","className","href","rel","title","src","img_src","content","rating_score","rating_count","uid","split","map","u","key","tags","tag","i","onClick","e","preventDefault","Paging","args","state","page","keyChange","bind","skip","onChange","this","setState","parseInt","target","value","keyCode","cur","total","pages","Array","fill","handlerClick","type","defaultValue","min","max","onKeyDown","style","float","clear","Component","Header","orders","curCate","cb","search","role","width","height","alt","method","onSubmit","refs","htmlFor","name","ref","placeholder","Object","keys","cate","React","App","page_size","lastUrl","common","data","loadData","order","keyword","lastQuery","qs","parse","location","substring","opt","params","query","stringify","getOpt","url","fetch","json","res","history","push","rows","Article","Footer","withRouter","ReactDOM","render","path","component","document","getElementById"],"mappings":"kTACe,WAAUA,GAAQ,IAC1BC,EAAkBD,EAAlBC,KAAKC,EAAaF,EAAbE,UACNC,EAAO,IAAIC,KAAKH,EAAKI,MACrBA,EAAI,UAAMF,EAAKG,cAAX,YAA4BH,EAAKI,WAAa,EAA9C,YAAmDJ,EAAKK,WAChE,OACE,6BACGP,EACG,6BACEQ,GAAG,aACHC,UAAU,+JACV,4BAAQA,UAAU,gBAChB,wBAAIA,UAAU,eACZ,uBAAGC,KAAMV,EAAKU,KAAMC,IAAI,YAAYX,EAAKY,QAE3C,yBAAKH,UAAU,cACb,0BAAMA,UAAU,OAAhB,sBACA,uBAAGC,KAAMV,EAAKU,KAAME,MAAM,mBAASD,IAAI,YACrC,0BAAMF,UAAU,cAAcL,IAEhC,0BAAMK,UAAU,aACd,0BAAMA,UAAU,OAAhB,UACA,0BAAMA,UAAU,gBACd,uBACEA,UAAU,WACVC,KAAK,wCACLE,MAAM,kFACND,IAAI,UAJN,0BAQN,yBAAKF,UAAU,iBACb,uBAAGC,KAAK,+CAAR,QAGJ,yBAAKD,UAAU,iBACb,2BACE,uBAAGC,KAAMV,EAAKU,MAAM,yBAAKG,IAAKb,EAAKc,WAAc,6BADnD,IAC0Dd,EAAKe,QAC7D,6BAFF,qBAGMf,EAAKgB,aACT,6BAJF,iCAKQhB,EAAKiB,aACX,6BANF,OAOM,6BAPN,IAOajB,EAAKkB,KAAOlB,EACpBkB,IACAC,MAAM,KACNC,KAAI,SAAAC,GAAC,OAAI,0BAAMC,IAAKD,GAAX,8BAAsCA,GAAI,mCAG1D,4BAAQZ,UAAU,cAChB,0BAAMA,UAAU,aACd,0BAAMA,UAAU,mDAAhB,sBACA,uBAAGC,KAAK,qCAAqCC,IAAI,gBAAjD,iBAEF,0BAAMF,UAAU,OAAhB,KAGA,0BAAMA,UAAU,aACd,0BAAMA,UAAU,mDAAhB,sBACCT,EAAKuB,MAAQvB,EACXuB,KACAJ,MAAM,KACNC,KAAI,SAACI,EAAKC,GAAN,OAAY,uBAAGH,IAAKG,EAAGC,QAAS,SAAAC,GACnCA,EAAEC,iBACF3B,EAAUuB,IACTd,KAAK,IAAIC,IAAI,OAAOa,EAHN,SAKrB,0BAAMf,UAAU,OAAhB,KAGA,0BAAMA,UAAU,iBACd,uBAAGC,KAAK,+CACN,iCADF,yBAKN,K,QChCKmB,G,kBAxCX,aAAqB,IAAD,mDAALC,EAAK,yBAALA,EAAK,uBAChB,iEAASA,MAFbC,MAAQ,CAAEC,KAAM,GAGZ,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBAHI,E,0EAKPF,GAAO,IAAD,OACf,OAAO,kBAAM,EAAKjC,MAAMqC,SAASJ,M,gCAE3BL,GACNU,KAAKC,SAAS,CAAEN,KAAMO,SAASZ,EAAEa,OAAOC,W,2BAEvCd,GACiB,KAAdA,EAAEe,SACFL,KAAKtC,MAAMqC,SAASC,KAAKN,MAAMC,Q,+BAG7B,IAAD,SACgBK,KAAKtC,MAApB4C,EADD,EACCA,IAAKC,EADN,EACMA,MACPC,EAAQC,MAAM,GAAGC,KAAK,GAAG3B,KAAI,SAACpB,EAAMyB,GACpC,IAAIO,EAAOW,EAAMlB,EAAI,EACrB,OAAOO,EAAO,GAAKA,GAAQY,EACvB,wBAAItB,IAAKG,EAAGhB,UAAWuB,IAASW,EAAM,cAAgB,IAClD,uBAAGjC,KAAK,IAAIgB,QAAS,EAAKsB,aAAahB,IAAQA,IAC3C,MAEhB,OACI,yBAAKxB,GAAG,mBACJ,4BACI,wBAAIC,UAAU,aAAd,QAAgCkC,EAAhC,OAAyCC,GACxCD,GAAO,EAAI,wBAAIlC,UAAU,mBAAkB,uBAAGC,KAAK,IAAIgB,QAASW,KAAKW,aAAa,IAAvC,MAAwD,GACnGL,EAAM,EAAI,wBAAIlC,UAAU,SAAd,OAAiC,GAC3CoC,EACAF,EAAMC,EAAQ,EAAI,wBAAInC,UAAU,SAAd,OAAiC,GACnDkC,EAAMC,EAAQ,EAAI,wBAAInC,UAAU,mBAAkB,uBAAGC,KAAK,IAAIgB,QAASW,KAAKW,aAAaJ,IAASA,IAAkB,IAEzH,2BAAOK,KAAK,SAASC,aAAcP,EAAKnC,GAAG,YAAY2C,IAAI,IAAIC,IAAG,UAAKR,GAASR,SAAUC,KAAKJ,UAAWoB,UAAWhB,KAAKF,OAC1H,yBAAKmB,MAAO,CAAEC,MAAO,OAAQC,MAAO,e,GAtC/BC,cCDAC,E,iLACP,IAAD,SACiCrB,KAAKtC,MAArC4D,EADD,EACCA,OAAQC,EADT,EACSA,QAASC,EADlB,EACkBA,GAAIC,EADtB,EACsBA,OAC3B,OACI,4BAAQtD,GAAG,WAAWuD,KAAK,UACvB,gCACI,wBAAIvD,GAAG,cACH,8BACI,uBAAGE,KAAK,2BAA2BC,IAAI,QAAvC,6CAGR,wBAAIH,GAAG,oBAAP,6FAEJ,uBAAGE,KAAK,4BACJ,yBACIG,IAAI,8DACJmD,MAAO,KACPC,OAAQ,IACRC,IAAI,6CAEZ,0BAAMC,OAAO,MAAM3D,GAAG,aAAa4D,SAAU,SAAAzC,GACzCA,EAAEC,iBACFkC,EAAO,EAAKO,KAAKP,OAAOrB,SAExB,2BAAO6B,QAAQ,IAAI7D,UAAU,kBAA7B,gBACA,2BAAOwC,KAAK,OAAOxC,UAAU,QAAQ8D,KAAK,IAAIC,IAAI,SAAShE,GAAG,IAAIiE,YAAY,kBAElF,yBAAKjE,GAAG,SAASuD,KAAK,cAClB,wBAAItD,UAAU,kBAAd,gBACA,yBAAKA,UAAU,aACX,uBAAGA,UAAU,iBAAiBC,KAAK,YAAnC,+CAEJ,yBAAKD,UAAU,aACX,uBAAGA,UAAU,iBAAiBC,KAAK,cAAnC,+CAEJ,yBAAKD,UAAU,wCACX,wBAAID,GAAG,6BAA6BC,UAAU,QACzCiE,OAAOC,KAAKhB,GAAQvC,KAAI,SAAAwD,GAAI,OACzB,wBACIlD,QAAS,WAAQmC,EAAGe,IACpBtD,IAAKsD,EACLnE,UAAS,sEAAiEmE,IAAShB,EAAU,oBAAsB,KACnH,uBAAGlD,KAAK,IAAIgB,QAAS,SAAAC,GAAC,OAAIA,EAAEC,mBAAmB+B,EAAOiB,gB,GA1CtDC,IAAMpB,W,iBCA3B,aACb,OACE,4BAAQjD,GAAG,WAAWuD,KAAK,eACzB,yBAAKvD,GAAG,gBAAgBC,UAAU,OAChC,yBAAKD,GAAG,QAAQC,UAAU,cAAcsD,KAAK,iBAC3C,2BAAOvD,GAAG,gBAAgBC,UAAU,yCAClC,yBAAKA,UAAU,iCAAf,kIACE,6BACA,yBAAKI,IAAI,+BAA+BqD,IAAI,6BAF9C,2HAE0E,6BACxE,6BAHF,2MAMF,2BAAO1D,GAAG,cAAcC,UAAU,2BAChC,wBAAIA,UAAU,gBAAd,4BACA,0BAAMA,UAAU,gBACd,8BAAY,yBAAKD,GAAG,gBAE1B,yBAAKA,GAAG,SAASC,UAAU,cAAcsD,KAAK,iBAC5C,2BAAOvD,GAAG,gBAAgBC,UAAU,yCAClC,yBAAKA,UAAU,iCAAf,qjBAMN,yBAAKD,GAAG,kBAAR,uBAEE,uBAAGE,KAAK,IAAIE,MAAM,oDAAYD,IAAI,aAAlC,oBAFF,wEAKE,uBAAGD,KAAK,mBAAmBE,MAAM,WAAjC,cCxBFkE,E,YAGJ,aAAsB,IAAD,mDAANhD,EAAM,yBAANA,EAAM,iBACnB,iEAASA,MAHXiD,UAAY,GAES,EADrBC,QAAU,GAGR,IAAIrB,EAAS,CACXvD,KAAM,iCACNY,aAAc,iCACdC,aAAc,iCACdgE,OAAQ,4BANS,OAQnB,EAAKlD,MAAQ,CAAEmD,KAAM,KAAMvB,UARR,E,iFAWnBtB,KAAK8C,a,+BAEoC,IAAD,yDAAH,GAA/BnD,EAAkC,EAAlCA,KAAKoD,EAA6B,EAA7BA,MAAM7D,EAAuB,EAAvBA,KAAK8D,EAAkB,EAAlBA,QAAQ7B,EAAU,EAAVA,MAC1B8B,EAAYC,IAAGC,MAAMnD,KAAKtC,MAAM0F,SAAS3B,OAAO4B,UAAU,IAC1DlC,GAMFxB,EAAOA,GAAQ,EACfoD,EAAQA,GAAS,WANjBA,EAAQA,GAASE,EAAUF,OAAS,SACpCpD,EAAOA,GAAQsD,EAAUtD,MAAQ,EACjCT,EAAOA,GAAQ+D,EAAU/D,KACzB8D,EAAUA,GAAWC,EAAUD,SAKjC,IAAIN,EAAY1C,KAAK0C,UACjBY,EAAM,CAAEZ,YAAW/C,OAAMoD,QAAO7D,OAAK8D,WACzC,OAAOM,I,wEAEMC,G,8EACTC,EAAQN,IAAGO,UAAUzD,KAAK0D,OAAOH,KACjCI,E,oCAAmCH,MAC3BxD,KAAK2C,Q,iEACMiB,MAAMD,G,8BAAME,O,OAA/BC,E,OACJ9D,KAAKC,SAAS,CAAE4C,KAAMiB,EAAIjB,KAAMtC,MAAOuD,EAAIvD,QAC3CP,KAAKtC,MAAMqG,QAAQC,KAAnB,YAA6BR,IAC7BxD,KAAK2C,QAAUgB,E,uIAEP,IAAD,OACDd,EAAS7C,KAAKN,MAAdmD,KADC,EAEiB7C,KAAK0D,SAAxBX,EAFE,EAEFA,MAAMpD,EAFJ,EAEIA,KACPW,GAHG,EAESpB,KACNgB,SAASP,IACnB,OACE,6BAASxB,GAAG,OAAOC,UAAU,SAC3B,kBAAC,EAAD,CAAQkD,OAAQtB,KAAKN,MAAM4B,OAAQC,QAASwB,EAAOtB,OAAQ,SAAAuB,GAAU,EAAKF,SAAS,CAACE,UAAQ7B,OAAM,KAASK,GAAI,SAAAuB,GAAW,EAAKD,SAAS,CAAEC,QAAM5B,OAAM,OACtJ,yBAAKhD,GAAG,WAEJ6B,KAAKN,MAAMmD,KACT,yBAAK1E,GAAG,WACL0E,EAAKoB,KAAKlF,KAAI,SAAApB,GAAI,OAAI,kBAACuG,EAAD,CAASvG,KAAMA,EAAMC,UAAW,SAAAsB,GAAI,OAAI,EAAK4D,SAAS,CAAC5D,OAAKiC,OAAM,KAAQlC,IAAKtB,EAAKQ,QAC3G,kBAAC,EAAD,CAAQmC,IAAKA,EAAKC,MAAOsC,EAAKtC,MAAOR,SAAU,SAAAJ,GAAU,EAAKmD,SAAS,CAAEnD,aAEzE,IAGR,kBAACwE,EAAD,W,GAzDU3B,IAAMpB,WA+DTgD,cAAW3B,GChE1B4B,IAASC,OAAO,kBAAC,IAAD,KAAQ,mBCHT,WACX,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,IAAIC,UAAW/B,ODAf,OAA4BgC,SAASC,eAAe,W","file":"static/js/main.1483f704.chunk.js","sourcesContent":["import React from 'react';\r\nexport default function (props) {\r\n  let {item,tagChange} = props;\r\n  let date = new Date(item.time);\r\n  let time = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`\r\n  return (\r\n    <div>\r\n      {item\r\n        ? <article\r\n            id=\"post-76482\"\r\n            className=\"post-76482 post type-post status-publish format-standard hentry category-anime tag-bomb-cute-bomb tag-1300 tag-761 tag-1373 tag-72 tag-49 tag-2306 tag-2387\">\r\n            <header className=\"entry-header\">\r\n              <h1 className=\"entry-title\">\r\n                <a href={item.href} rel=\"bookmark\">{item.title}</a>\r\n              </h1>\r\n              <div className=\"entry-meta\">\r\n                <span className=\"sep\">发表于</span>\r\n                <a href={item.href} title=\"下午9:35\" rel=\"bookmark\">\r\n                  <time className=\"entry-date\">{time}</time>\r\n                </a>\r\n                <span className=\"by-author\">\r\n                  <span className=\"sep\">由</span>\r\n                  <span className=\"author vcard\">\r\n                    <a\r\n                      className=\"url fn n\"\r\n                      href=\"https://www.liuli.se/wp/author/acg-gy\"\r\n                      title=\"查看所有由多啦H萌发布的文章\"\r\n                      rel=\"author\">多啦H萌</a>\r\n                  </span>\r\n                </span>\r\n              </div>\r\n              <div className=\"comments-link\">\r\n                <a href=\"https://www.liuli.se/wp/76482.html#comments\">20</a>\r\n              </div>\r\n            </header>\r\n            <div className=\"entry-content\">\r\n              <p>\r\n                <a href={item.href}><img src={item.img_src}/></a><br/> {item.content}\r\n                <br/>\r\n                评分：{item.rating_score}\r\n                <br/>\r\n                评分人数：{item.rating_count}\r\n                <br/>\r\n                uid:<br/> {item.uid && item\r\n                  .uid\r\n                  .split('|')\r\n                  .map(u => <span key={u}>{`magnet:?xt=urn:btih:${u}`}<br/></span>)}\r\n              </p>\r\n            </div>\r\n            <footer className=\"entry-meta\">\r\n              <span className=\"cat-links\">\r\n                <span className=\"entry-utility-prep entry-utility-prep-cat-links\">发表在</span>\r\n                <a href=\"https://www.liuli.se/wp/anime.html\" rel=\"category tag\">动画</a>\r\n              </span>\r\n              <span className=\"sep\">\r\n                |\r\n              </span>\r\n              <span className=\"tag-links\">\r\n                <span className=\"entry-utility-prep entry-utility-prep-tag-links\">标签为</span>\r\n                {item.tags && item\r\n                  .tags\r\n                  .split('|')\r\n                  .map((tag, i) => <a key={i} onClick={e => {\r\n                    e.preventDefault();\r\n                    tagChange(tag);\r\n                  }} href=\"#\" rel=\"tag\">{tag},</a>)}\r\n              </span>\r\n              <span className=\"sep\">\r\n                |\r\n              </span>\r\n              <span className=\"comments-link\">\r\n                <a href=\"https://www.liuli.se/wp/76482.html#comments\">\r\n                  <b>20</b>条回复</a>\r\n              </span>\r\n            </footer>\r\n          </article>\r\n        : ''}\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react';\r\nimport './Paging.css';\r\nclass Paging extends Component {\r\n    state = { page: 1 };\r\n    constructor(...args){\r\n        super(...args);\r\n        this.keyChange = this.keyChange.bind(this);\r\n        this.skip = this.skip.bind(this);\r\n    }\r\n    handlerClick(page) {\r\n        return () => this.props.onChange(page);\r\n    }\r\n    keyChange(e) {\r\n        this.setState({ page: parseInt(e.target.value) });\r\n    }\r\n    skip(e) {\r\n        if (e.keyCode === 13) {\r\n            this.props.onChange(this.state.page);\r\n        }\r\n    }\r\n    render() {\r\n        let { cur, total } = this.props;\r\n        let pages = Array(5).fill(0).map((item, i) => {\r\n            let page = cur + i - 2;\r\n            return page > 0 && page <= total ?\r\n                <li key={i} className={page === cur ? 'active_page' : ''}>\r\n                    <a href=\"#\" onClick={this.handlerClick(page)}>{page}</a>\r\n                </li> : '';\r\n        })\r\n        return (\r\n            <div id=\"wp_page_numbers\">\r\n                <ul>\r\n                    <li className=\"page_info\">Page {cur} of {total}</li>\r\n                    {cur >= 4 ? <li className=\"first_last_page\"><a href=\"#\" onClick={this.handlerClick(1)}>1</a></li> : ''}\r\n                    {cur > 4 ? <li className=\"space\">...</li> : ''}\r\n                    {pages}\r\n                    {cur < total - 3 ? <li className=\"space\">...</li> : ''}\r\n                    {cur < total - 2 ? <li className=\"first_last_page\"><a href=\"#\" onClick={this.handlerClick(total)}>{total}</a></li> : ''}\r\n                </ul>\r\n                <input type='number' defaultValue={cur} id='page-skip' min='0' max={`${total}`} onChange={this.keyChange} onKeyDown={this.skip} />\r\n                <div style={{ float: 'none', clear: 'both' }}></div>\r\n            </div>)\r\n    }\r\n}\r\nexport default Paging;","import React from 'react';\r\nexport default class Header extends React.Component {\r\n    render() {\r\n        let { orders, curCate, cb, search } = this.props;\r\n        return (\r\n            <header id=\"branding\" role=\"banner\">\r\n                <hgroup>\r\n                    <h1 id=\"site-title\">\r\n                        <span>\r\n                            <a href=\"https://www.liuli.se/wp/\" rel=\"home\">琉璃神社 ★ HACG.me</a>\r\n                        </span>\r\n                    </h1>\r\n                    <h2 id=\"site-description\">最新的ACG资讯 分享同人动漫的快乐</h2>\r\n                </hgroup>\r\n                <a href=\"https://www.liuli.se/wp/\">\r\n                    <img\r\n                        src=\"https://www.liuli.se/wp/wp-content/uploads/2019/02/2019.jpg\"\r\n                        width={1250}\r\n                        height={360}\r\n                        alt=\"琉璃神社 ★ HACG.me\" />\r\n                </a>\r\n                <form method=\"get\" id=\"searchform\" onSubmit={e=>{\r\n                    e.preventDefault();\r\n                    search(this.refs.search.value);\r\n                    }}>\r\n                    <label htmlFor=\"s\" className=\"assistive-text\">搜索</label>\r\n                    <input type=\"text\" className=\"field\" name=\"s\" ref='search' id=\"s\" placeholder=\"搜索\" />\r\n                </form>\r\n                <nav id=\"access\" role=\"navigation\">\r\n                    <h3 className=\"assistive-text\">主页</h3>\r\n                    <div className=\"skip-link\">\r\n                        <a className=\"assistive-text\" href=\"#content\">跳至主内容区域</a>\r\n                    </div>\r\n                    <div className=\"skip-link\">\r\n                        <a className=\"assistive-text\" href=\"#secondary\">跳至副内容区域</a>\r\n                    </div>\r\n                    <div className=\"menu-%e8%8f%9c%e5%8d%95ssl-container\">\r\n                        <ul id=\"menu-%e8%8f%9c%e5%8d%95ssl\" className=\"menu\">\r\n                            {Object.keys(orders).map(cate =>\r\n                                <li\r\n                                    onClick={() => { cb(cate) }}\r\n                                    key={cate}\r\n                                    className={`menu-item menu-item-type-taxonomy menu-item-object-category ${cate === curCate ? 'current-menu-item' : ''}`}>\r\n                                    <a href=\"#\" onClick={e => e.preventDefault()}>{orders[cate]}</a>\r\n                                </li>)}\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </header>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nexport default function () {\r\n  return (\r\n    <footer id=\"colophon\" role=\"contentinfo\">\r\n      <div id=\"supplementary\" className=\"two\">\r\n        <div id=\"first\" className=\"widget-area\" role=\"complementary\">\r\n          <aside id=\"custom_html-4\" className=\"widget_text widget widget_custom_html\">\r\n            <div className=\"textwidget custom-html-widget\">投诉联系：misaki#acg.gy (#换@ 投稿文章请发送到这个邮箱)\r\n              <br/>\r\n              <img src=\"https://www.hacg.me/hacg.jpg\" alt=\"琉璃神社\"/>少上点网，多点运动；好好学习，天天向上。<br/>\r\n              <br/>\r\n              不要想一味的改变现在，这只会让过去变得面目全非罢了。《命运石之门》</div>\r\n          </aside>\r\n          <aside id=\"transposh-2\" className=\"widget widget_transposh\">\r\n            <h3 className=\"widget-title\">语言选择</h3>\r\n            <span className=\"no_translate\">\r\n              <br/></span><div id=\"tr_credit\"/></aside>\r\n        </div>\r\n        <div id=\"second\" className=\"widget-area\" role=\"complementary\">\r\n          <aside id=\"custom_html-5\" className=\"widget_text widget widget_custom_html\">\r\n            <div className=\"textwidget custom-html-widget\">本站只提供资讯，不提供任何上传下载服务，所有内容均来自分享站点所提供的公开引用资讯。如果有版权违规内容，请通知作者删除。\r\n              本站不支持旧版浏览器，如果网页显示不正常，请升级支持HTML5的现代浏览器\r\n            </div>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n      <div id=\"site-generator\">\r\n        magnet:?xt=urn:btih:\r\n        <a href=\"/\" title=\"欢迎光临 琉璃神社\" rel=\"generator\">Power by HACG.ME\r\n        </a>\r\n        Copyright © 2011-2020 琉璃神社 All Rights Reserved\r\n        <a href=\"/wp/sitemap.html\" title=\"sitemap\">Sitemap</a>\r\n      </div>\r\n    </footer>\r\n  );\r\n}","import React from 'react';\nimport Article from './Article';\nimport Paging from './Paging';\nimport Header from './Header';\nimport qs from 'querystring';\nimport { withRouter } from 'react-router-dom';\nimport Footer from './Footer';\nclass App extends React.Component {\n  page_size = 10;\n  lastUrl = '';\n  constructor(...args) {\n    super(...args);\n    let orders = {\n      time: '按时间排序',\n      rating_score: '按评分排序',\n      rating_count: '按热度排序',\n      common: '综合排序'\n    };\n    this.state = { data: null, orders };\n  }\n  componentDidMount() {\n    this.loadData();\n  }\n  getOpt({page,order,tags,keyword,clear}={}){\n    let lastQuery = qs.parse(this.props.location.search.substring(1));\n    if(!clear){\n      order = order || lastQuery.order || 'common';\n      page = page || lastQuery.page || 1;\n      tags = tags || lastQuery.tags;\n      keyword = keyword || lastQuery.keyword;\n    } else {\n      page = page || 1;\n      order = order || 'common';\n    }\n    let page_size = this.page_size;\n    let opt = { page_size, page, order, tags,keyword };\n    return opt;\n  }\n  async loadData(params) {\n    let query = qs.stringify(this.getOpt(params));\n    let url = `http://localhost:8080/api?${query}`;\n    if (url === this.lastUrl) { return };\n    let res = await (await fetch(url)).json();\n    this.setState({ data: res.data, total: res.total });\n    this.props.history.push(`/?${query}`);\n    this.lastUrl = url;\n  }\n  render() {\n    let { data } = this.state;\n    let {order,page,tags} = this.getOpt();\n    let cur = parseInt(page);\n    return (\n      <section id=\"page\" className=\"hfeed\">\n        <Header orders={this.state.orders} curCate={order} search={keyword=>{this.loadData({keyword,clear:true})}} cb={order => { this.loadData({ order,clear:true }) }}></Header>\n        <div id=\"primary\">\n          {\n            this.state.data ?\n              <div id=\"content\">\n                {data.rows.map(item => <Article item={item} tagChange={tags => this.loadData({tags,clear:true})} key={item.id}></Article>)}\n                <Paging cur={cur} total={data.total} onChange={page => { this.loadData({ page }) }}></Paging>\n              </div>\n              : ''\n          }\n        </div>\n        <Footer></Footer>\n      </section>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport Routes from './router'\n\nReactDOM.render(<Router><Routes></Routes></Router>, document.getElementById('root'));\n\n","import React from 'react';\r\nimport {Route,Switch} from 'react-router-dom';\r\nimport App from './App';\r\nexport default function(){\r\n    return (\r\n        <Switch>\r\n            <Route path='/' component={App}></Route>\r\n        </Switch>\r\n    )\r\n}"],"sourceRoot":""}